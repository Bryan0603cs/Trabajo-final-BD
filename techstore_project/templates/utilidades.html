<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{title}}</title>
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body class="app-body">
<div class="page-wrapper">
    <div class="app-card">
        <header class="app-header">
            <div class="app-header-title">
                <h1>TechStore</h1>
                <span>Utilidades</span>
            </div>
            <div class="app-header-actions">
                <a href="/menu">Menú principal</a>
                <a href="/logout">Cerrar sesión</a>
            </div>
        </header>

        <main class="app-content">
            <section class="section-block">
                <h2 class="section-title">Herramientas de apoyo</h2>
                <p class="section-intro">
                    Este módulo reúne pequeñas utilidades que facilitan el trabajo diario,
                    como una calculadora rápida para operaciones básicas y un calendario de
                    referencia para fechas de corte o vencimientos.
                </p>
            </section>

            <section class="cards-grid">
                <!-- Calculadora -->
                <article class="entity-card">
                    <h3>Calculadora rápida</h3>
                    <p style="font-size: 13px; color: #555;">
                        Útil para hacer verificaciones rápidas de totales, porcentajes de IVA,
                        descuentos, etc.
                    </p>
                    <form class="report-form" onsubmit="return false;">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="calcA">Valor A</label>
                                <input type="number" id="calcA" step="0.01">
                            </div>
                            <div class="form-group">
                                <label for="calcB">Valor B</label>
                                <input type="number" id="calcB" step="0.01">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="calcOp">Operación</label>
                            <select id="calcOp">
                                <option value="sum">Suma (A + B)</option>
                                <option value="sub">Resta (A - B)</option>
                                <option value="mul">Multiplicación (A × B)</option>
                                <option value="div">División (A ÷ B)</option>
                            </select>
                        </div>
                        <button type="button" class="btn-primary-sm" onclick="runCalc()">
                            Calcular
                        </button>
                        <p id="calcResult" style="margin-top: 8px; font-size: 13px; color: #1a1a4d;"></p>
                    </form>
                </article>

                <!-- Calendario simple -->
                <article class="entity-card">
                    <h3>Calendario de referencia</h3>
                    <p style="font-size: 13px; color: #555;">
                        Selecciona una fecha para marcar cortes de mes, vencimiento de créditos
                        o días importantes de gestión.
                    </p>
                    <div class="form-group">
                        <label for="calFecha">Fecha</label>
                        <input type="date" id="calFecha">
                    </div>
                    <p id="calTexto" style="font-size: 13px; color: #1a1a4d; margin-top: 6px;">
                        No hay fecha seleccionada.
                    </p>
                </article>
            </section>
        </main>
    </div>
</div>

<script>
    function runCalc() {
        const a = parseFloat(document.getElementById('calcA').value || '0');
        const b = parseFloat(document.getElementById('calcB').value || '0');
        const op = document.getElementById('calcOp').value;
        let res;

        if (op === 'sum') res = a + b;
        else if (op === 'sub') res = a - b;
        else if (op === 'mul') res = a * b;
        else if (op === 'div') {
            if (b === 0) {
                document.getElementById('calcResult').textContent = 'No se puede dividir por cero.';
                return;
            }
            res = a / b;
        }

        document.getElementById('calcResult').textContent = 'Resultado: ' + res.toFixed(2);
    }

    const calInput = document.getElementById('calFecha');
    const calTexto = document.getElementById('calTexto');
    if (calInput) {
        calInput.addEventListener('change', () => {
            if (!calInput.value) {
                calTexto.textContent = 'No hay fecha seleccionada.';
            } else {
                calTexto.textContent = 'Fecha seleccionada: ' + calInput.value;
            }
        });
    }
</script>
<script src="/static/js/main.js"></script>
</body>
</html>
